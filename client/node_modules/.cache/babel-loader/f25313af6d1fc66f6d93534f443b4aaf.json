{"ast":null,"code":"import { FIRST_NAME_CHANGED, LAST_NAME_CHANGED, FULL_NAME_CHANGED, RECEIVE_DATA, ENABLE_SERVER, DISABLE_SERVER } from '../actions/types';\n\nlet convert = require('xml-js');\n\nconst INITIAL_STATE = {\n  firstName: '',\n  lastName: '',\n  data: []\n};\nexport default ((state = INITIAL_STATE, action) => {\n  switch (action.type) {\n    case FIRST_NAME_CHANGED:\n      return { ...state,\n        firstName: action.payload\n      };\n\n    case LAST_NAME_CHANGED:\n      console.log(action.payload);\n      return { ...state,\n        lastName: action.payload\n      };\n\n    case FULL_NAME_CHANGED:\n      let text = action.payload || '';\n      let [firstName, lastName] = text.split(' ');\n      return { ...state,\n        firstName: firstName ? firstName : '',\n        lastName: lastName ? lastName : ''\n      };\n\n    case RECEIVE_DATA:\n      let xml = '<response>' + '<returncode>SUCCESS</returncode>' + '<version>2.0</version>' + '<servers>' + ' <server>' + '<serverID>211a1b81-cf0f-437f-b2fc-346d407796c6</serverID>' + '<serverUrl>https://vcs4.etfbl.net/bigbluebutton/api/</serverUrl>' + ' <online>true</online>' + ' <loadMultiplier>1.0</loadMultiplier>' + '<enabled>true</enabled>' + '<load>0.0</load>' + ' </server>' + '<server>' + '<serverID>02dea11c-ed7d-4377-b978-0ee1ad3d2382</serverID>' + '<serverUrl>https://vcs2.etfbl.net/bigbluebutton/api/</serverUrl>' + '<online>true</online>' + '<loadMultiplier>1.0</loadMultiplier>' + '<enabled>true</enabled>' + '<load>0.0</load>' + '</server>' + ' </servers>' + '</response>';\n      let result = JSON.parse(convert.xml2json(xml, {\n        compact: true,\n        spaces: 4\n      }));\n      let servers = result.response.servers.server;\n      state.data = servers.map(s => {\n        return { ...s,\n          action: s.enabled._text === \"true\" ? \"disable\" : \"enable\"\n        };\n      });\n      return state;\n\n    case ENABLE_SERVER:\n      return state;\n\n    case DISABLE_SERVER:\n      return state;\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/Users/Andrea/Desktop/Master/RacunarskeMreze/Project/client/src/reducers/TextInputReducer.js"],"names":["FIRST_NAME_CHANGED","LAST_NAME_CHANGED","FULL_NAME_CHANGED","RECEIVE_DATA","ENABLE_SERVER","DISABLE_SERVER","convert","require","INITIAL_STATE","firstName","lastName","data","state","action","type","payload","console","log","text","split","xml","result","JSON","parse","xml2json","compact","spaces","servers","response","server","map","s","enabled","_text"],"mappings":"AAAA,SACIA,kBADJ,EAEIC,iBAFJ,EAGIC,iBAHJ,EAIIC,YAJJ,EAKIC,aALJ,EAMIC,cANJ,QAOO,kBAPP;;AASA,IAAIC,OAAO,GAAGC,OAAO,CAAC,QAAD,CAArB;;AAEA,MAAMC,aAAa,GAAG;AAAEC,EAAAA,SAAS,EAAE,EAAb;AAAiBC,EAAAA,QAAQ,EAAE,EAA3B;AAA+BC,EAAAA,IAAI,EAAE;AAArC,CAAtB;AAEA,gBAAe,CAACC,KAAK,GAAGJ,aAAT,EAAwBK,MAAxB,KAAmC;AAC9C,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKd,kBAAL;AACI,aAAO,EAAE,GAAGY,KAAL;AAAYH,QAAAA,SAAS,EAAEI,MAAM,CAACE;AAA9B,OAAP;;AACJ,SAAKd,iBAAL;AACIe,MAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACE,OAAnB;AACA,aAAO,EAAE,GAAGH,KAAL;AAAYF,QAAAA,QAAQ,EAAEG,MAAM,CAACE;AAA7B,OAAP;;AACJ,SAAKb,iBAAL;AACI,UAAIgB,IAAI,GAAGL,MAAM,CAACE,OAAP,IAAkB,EAA7B;AACA,UAAI,CAACN,SAAD,EAAYC,QAAZ,IAAwBQ,IAAI,CAACC,KAAL,CAAW,GAAX,CAA5B;AACA,aAAO,EAAE,GAAGP,KAAL;AAAYH,QAAAA,SAAS,EAAEA,SAAS,GAAGA,SAAH,GAAe,EAA/C;AAAmDC,QAAAA,QAAQ,EAAEA,QAAQ,GAAGA,QAAH,GAAc;AAAnF,OAAP;;AACJ,SAAKP,YAAL;AACI,UAAIiB,GAAG,GAAG,eACN,kCADM,GAEN,wBAFM,GAGN,WAHM,GAIN,WAJM,GAKN,2DALM,GAMN,kEANM,GAON,wBAPM,GAQN,uCARM,GASN,yBATM,GAUN,kBAVM,GAWN,YAXM,GAYN,UAZM,GAaN,2DAbM,GAcN,kEAdM,GAeN,uBAfM,GAgBN,sCAhBM,GAiBN,yBAjBM,GAkBN,kBAlBM,GAmBN,WAnBM,GAoBN,aApBM,GAqBN,aArBJ;AAsBA,UAAIC,MAAM,GAAGC,IAAI,CAACC,KAAL,CAAWjB,OAAO,CAACkB,QAAR,CAAiBJ,GAAjB,EAAsB;AAAEK,QAAAA,OAAO,EAAE,IAAX;AAAiBC,QAAAA,MAAM,EAAE;AAAzB,OAAtB,CAAX,CAAb;AACA,UAAIC,OAAO,GAAGN,MAAM,CAACO,QAAP,CAAgBD,OAAhB,CAAwBE,MAAtC;AACAjB,MAAAA,KAAK,CAACD,IAAN,GAAagB,OAAO,CAACG,GAAR,CAAYC,CAAC,IAAI;AAC1B,eAAO,EAAE,GAAGA,CAAL;AAAQlB,UAAAA,MAAM,EAAEkB,CAAC,CAACC,OAAF,CAAUC,KAAV,KAAoB,MAApB,GAA6B,SAA7B,GAAyC;AAAzD,SAAP;AACH,OAFY,CAAb;AAGA,aAAOrB,KAAP;;AACJ,SAAKR,aAAL;AACI,aAAOQ,KAAP;;AACJ,SAAKP,cAAL;AACI,aAAOO,KAAP;;AACJ;AACI,aAAOA,KAAP;AA5CR;AA8CH,CA/CD","sourcesContent":["import {\r\n    FIRST_NAME_CHANGED,\r\n    LAST_NAME_CHANGED,\r\n    FULL_NAME_CHANGED,\r\n    RECEIVE_DATA,\r\n    ENABLE_SERVER,\r\n    DISABLE_SERVER,\r\n} from '../actions/types';\r\n\r\nlet convert = require('xml-js');\r\n\r\nconst INITIAL_STATE = { firstName: '', lastName: '', data: [] };\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n    switch (action.type) {\r\n        case FIRST_NAME_CHANGED:\r\n            return { ...state, firstName: action.payload };\r\n        case LAST_NAME_CHANGED:\r\n            console.log(action.payload)\r\n            return { ...state, lastName: action.payload };\r\n        case FULL_NAME_CHANGED:\r\n            let text = action.payload || '';\r\n            let [firstName, lastName] = text.split(' ');\r\n            return { ...state, firstName: firstName ? firstName : '', lastName: lastName ? lastName : '' };\r\n        case RECEIVE_DATA:\r\n            let xml = '<response>' +\r\n                '<returncode>SUCCESS</returncode>' +\r\n                '<version>2.0</version>' +\r\n                '<servers>' +\r\n                ' <server>' +\r\n                '<serverID>211a1b81-cf0f-437f-b2fc-346d407796c6</serverID>' +\r\n                '<serverUrl>https://vcs4.etfbl.net/bigbluebutton/api/</serverUrl>' +\r\n                ' <online>true</online>' +\r\n                ' <loadMultiplier>1.0</loadMultiplier>' +\r\n                '<enabled>true</enabled>' +\r\n                '<load>0.0</load>' +\r\n                ' </server>' +\r\n                '<server>' +\r\n                '<serverID>02dea11c-ed7d-4377-b978-0ee1ad3d2382</serverID>' +\r\n                '<serverUrl>https://vcs2.etfbl.net/bigbluebutton/api/</serverUrl>' +\r\n                '<online>true</online>' +\r\n                '<loadMultiplier>1.0</loadMultiplier>' +\r\n                '<enabled>true</enabled>' +\r\n                '<load>0.0</load>' +\r\n                '</server>' +\r\n                ' </servers>' +\r\n                '</response>';\r\n            let result = JSON.parse(convert.xml2json(xml, { compact: true, spaces: 4 }));\r\n            let servers = result.response.servers.server;\r\n            state.data = servers.map(s => {\r\n                return { ...s, action: s.enabled._text === \"true\" ? \"disable\" : \"enable\" }\r\n            })\r\n            return state;\r\n        case ENABLE_SERVER:\r\n            return state;\r\n        case DISABLE_SERVER:\r\n            return state;\r\n        default:\r\n            return state;\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}